
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="臣子木">
    <title>javascript闭包 - 臣子木</title>
    <meta name="author" content="chenzimu">
    
        <meta name="keywords" content="web前端 | html | css | html5 | css3 | javascript | jquery | nodejs | angularjs,">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="闭包的概念很难懂，这篇文章也只是我的一个学习笔记吧，其中尤其是闭包在循环中的运用尤其最难理解。综合来说的:闭包是一个函数，在函数的上下文中有变量由于被引用，即使函数返回也不会销毁，这样的函数就是一个闭包。">
<meta property="og:type" content="blog">
<meta property="og:title" content="javascript闭包">
<meta property="og:url" content="http://chenzimu.com/javascript闭包.html">
<meta property="og:site_name" content="臣子木">
<meta property="og:description" content="闭包的概念很难懂，这篇文章也只是我的一个学习笔记吧，其中尤其是闭包在循环中的运用尤其最难理解。综合来说的:闭包是一个函数，在函数的上下文中有变量由于被引用，即使函数返回也不会销毁，这样的函数就是一个闭包。">
<meta property="og:image" content="http://7xnniz.com1.z0.glb.clouddn.com/closurelexical.png">
<meta property="og:updated_time" content="2015-11-05T01:30:21.416Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="javascript闭包">
<meta name="twitter:description" content="闭包的概念很难懂，这篇文章也只是我的一个学习笔记吧，其中尤其是闭包在循环中的运用尤其最难理解。综合来说的:闭包是一个函数，在函数的上下文中有变量由于被引用，即使函数返回也不会销毁，这样的函数就是一个闭包。">
<meta name="twitter:image" content="http://7xnniz.com1.z0.glb.clouddn.com/closurelexical.png">
<meta name="twitter:creator" content="@ChenLee">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/9e8004e35040814af6d25b85ffb9dc06?s=640"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-n50b4oihvnhnn3d66skkbpdhmk4m8hhzg1bdeltghjixva3aqphzmpjewvm6.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">臣子木</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="https://www.gravatar.com/avatar/9e8004e35040814af6d25b85ffb9dc06?s=90" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/9e8004e35040814af6d25b85ffb9dc06?s=110" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">chenzimu</h4>
                
                    <h5 class="sidebar-profile-bio"><p>奋斗</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/chenzimu" target="_blank">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/90lichen" target="_blank">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:sdlichen@gmail.com" target="_blank">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            javascript闭包
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" datetime="2014-12-30T10:42:45+08:00">
	
		    12月 30, 2014
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/javascript/">javascript</a>


    
</div>

</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>闭包的概念很难懂，这篇文章也只是我的一个学习笔记吧，其中尤其是闭包在循环中的运用尤其最难理解。<br>综合来说的:闭包是一个函数，在函数的上下文中有变量由于被引用，即使函数返回也不会销毁，这样的函数就是一个闭包。<br><a id="more"></a></p>
<h2 id="语义范围"><a href="#语义范围" class="headerlink" title="语义范围"></a>语义范围</h2><p>语义范围通俗讲就是我们在定义一个函数时从function开始一直到这个函数结束的整个代码段的范围。如：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="string">'global'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> y = <span class="string">'outer'</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">var</span> x = <span class="string">'inner'</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>inner函数被outer函数包围着，而outer函数又被全局上下文包围着，这样就形成了所谓的语义层级，如图所示：</p>
<p><img src="http://7xnniz.com1.z0.glb.clouddn.com/closurelexical.png" alt=""></p>
<blockquote>
<p>这样outer函数的语义范围=outer自身的语义范围+inner的语义范围+global的语义范围，outer的语义范围=outer自身的语义范围+global的语义范围</p>
</blockquote>
<h2 id="变量环境-执行上下文"><a href="#变量环境-执行上下文" class="headerlink" title="变量环境(执行上下文)"></a>变量环境(执行上下文)</h2><p>对于全局来说有一个全局的执行上下文，每定义一个函数，该函数也会生成自己的新的执行上下文，这与语义范围是相对应的，每一个执行上下文就像一个仓库，用来存储在相应语义范围中所定义的变量。如下所示：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//执行上下文:x : undefined</span></div><div class="line"><span class="keyword">var</span> x = <span class="string">'global'</span>;</div><div class="line"><span class="comment">//执行上下文:x : 'global'</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="comment">//执行上下文: y : undefined</span></div><div class="line">    <span class="keyword">var</span> y = <span class="string">'outer'</span>;</div><div class="line">    <span class="comment">//执行上下文: y : 'outer'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="comment">//执行上下文 : x : undefined</span></div><div class="line">        <span class="keyword">var</span> x = <span class="string">'inner'</span>;</div><div class="line">        <span class="comment">//执行上下文 : x : 'inner'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="scope-属性"><a href="#scope-属性" class="headerlink" title="[[scope]]属性"></a>[[scope]]属性</h2><p>当在一个执行上下文中定义新的函数的时候，就会创建新的函数对象，这个函数对象内部有一个名为[[scope]]的属性，这个属性指代的就是当前的执行上下文。而且该scope属性会对其外层的语义范围内的变量进行引用防止被javascript的垃圾回收机制所回收，这样该函数就会从全局开始继承每一层所包含的变量。</p>
<blockquote>
<p>这应该就是一些教程中所说的闭包就是函数中的函数的原因吧。</p>
</blockquote>
<p>如下所示:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span>执行上下文:x : undefined</div><div class="line">var x = <span class="string">'global'</span>;</div><div class="line"><span class="regexp">//</span>执行上下文:x : <span class="string">'global'</span></div><div class="line"><span class="keyword">function</span> outer()&#123;</div><div class="line">    <span class="regexp">//</span>执行上下文: y : undefined,[外层语义范围]x : <span class="string">'global'</span></div><div class="line">    var y = <span class="string">'outer'</span>;</div><div class="line">    <span class="regexp">//</span>执行上下文: y : <span class="string">'outer'</span>,[外层语义范围]x : <span class="string">'global'</span></div><div class="line"></div><div class="line">    <span class="keyword">function</span> inner()&#123;</div><div class="line">        <span class="regexp">//</span>执行上下文 : x : undefined,[外层语义范围]y : <span class="string">'outer'</span>,[外层语义范围]x : <span class="string">'global'</span></div><div class="line">        var x = <span class="string">'inner'</span>;</div><div class="line">        <span class="regexp">//</span>执行上下文 : x : <span class="string">'inner'</span>,[外层语义范围]y :<span class="string">'outer'</span>,[外层语义范围]x : <span class="string">'global'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="一个闭包的基础例子"><a href="#一个闭包的基础例子" class="headerlink" title="一个闭包的基础例子"></a>一个闭包的基础例子</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">(name)</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> text = <span class="string">'Hello '</span> + name;</div><div class="line">    <span class="keyword">var</span> helloAlert = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        alert(text);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> helloAlert;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> hello = sayHello(<span class="string">'Chenzimu'</span>);</div><div class="line">hello();</div></pre></td></tr></table></figure>
<blockquote>
<p>在javascript中，可以将一个函数引用变量看作是对一个函数的引用以及对一个闭包的隐式引用。代码中匿名函数定义在函数sayHello中形成了一个闭包。</p>
</blockquote>
<h2 id="更多闭包的例子"><a href="#更多闭包的例子" class="headerlink" title="更多闭包的例子"></a>更多闭包的例子</h2><h3 id="例一"><a href="#例一" class="headerlink" title="例一"></a>例一</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">say2015</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">2014</span>;</div><div class="line">    <span class="keyword">var</span> sayAlert = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">        alert(num);</div><div class="line">    &#125;;</div><div class="line">    num++;</div><div class="line">    <span class="keyword">return</span> sayAlert;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> say = say2015();</div><div class="line">say();</div></pre></td></tr></table></figure>
<blockquote>
<p>这个例子展示了闭包中本地变量是通过引用而不是复制获取的。</p>
</blockquote>
<h3 id="例二"><a href="#例二" class="headerlink" title="例二"></a>例二</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">function setupSomeGlobals()&#123;</div><div class="line">    var num = <span class="number">666</span><span class="comment">;</span></div><div class="line">    alertNum = function()&#123;</div><div class="line">        alert(num)<span class="comment">;</span></div><div class="line">    &#125;<span class="comment">;</span></div><div class="line">    incNum = function()&#123;</div><div class="line">        num++<span class="comment">;</span></div><div class="line">    &#125;<span class="comment">;</span></div><div class="line">    setNum = function(x)&#123;</div><div class="line">        num = x<span class="comment">;</span></div><div class="line">    &#125;<span class="comment">;</span></div><div class="line">&#125;<span class="comment">;</span></div><div class="line">setupSomeGlobals()<span class="comment">;</span></div><div class="line">alertNum()<span class="comment">;</span></div><div class="line">incNum()<span class="comment">;</span></div><div class="line">alertNum()<span class="comment">;</span></div><div class="line">setNum(<span class="number">888</span>)<span class="comment">;</span></div><div class="line">alertNum()<span class="comment">;</span></div><div class="line">setupSomeGlobals()<span class="comment">;</span></div><div class="line">alertNum()<span class="comment">;       </span></div></pre></td></tr></table></figure>
<blockquote>
<p>例子中三个全局函数都引用了同一个闭包，因为三个函数都有对num的引用，即都对setupSomeGlobals()的引用(因为num是setupSomeGlobals作用域中的变量)。</p>
<blockquote>
<p>注意：当再次执行setupSomeGlobals函数时，就会创建一个新的闭包，则之前执行过的函数和得到的值都会被覆盖掉。（在javascript中，当在一个函数中定义另一个函数时，每次外部函数的执行都会导致内部函数的重新初始化创建。）</p>
</blockquote>
</blockquote>
<h3 id="例三-较难理解"><a href="#例三-较难理解" class="headerlink" title="例三(较难理解)"></a>例三(较难理解)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildList</span><span class="params">(list)</span></span>&#123;</div><div class="line"><span class="keyword">var</span> result = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="keyword">list</span>.length;i++)&#123;</div><div class="line">    <span class="keyword">var</span> item = <span class="string">'item'</span> + <span class="keyword">list</span>[i];</div><div class="line">    result.push(</div><div class="line">        <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">            alert(item + <span class="string">' '</span> + <span class="keyword">list</span>[i]);</div><div class="line">        &#125;</div><div class="line">    );<span class="comment">//引用函数pointer</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testList</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> fnlist = buildList([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line">    fnlist[<span class="number">0</span>]();</div><div class="line">    fnlist[<span class="number">1</span>]();</div><div class="line">    fnlist[<span class="number">2</span>]();</div><div class="line">&#125;</div><div class="line"></div><div class="line">testList();</div></pre></td></tr></table></figure>
<blockquote>
<p>在for循环中使用闭包得到的结果会和我们想象中的不一样，上边的例子中，当testList函数运行时，会先执行buildList([1,2,3])，在for循环中匿名函数并没有立即执行，而是先push进了result数组，当执行fnlist时，fnlist使用的是for循环执行结束之后的i的值，即3，而后边的list[3]自然是undefined(因为[1,23]的长度为3)</p>
</blockquote>
<h3 id="例四"><a href="#例四" class="headerlink" title="例四"></a>例四</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">newClosure</span><span class="params">(someNum,someRef)</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> num = someNum;</div><div class="line">    <span class="keyword">var</span> anArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">    <span class="keyword">var</span> ref = someRef;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(x)</span></span>&#123;</div><div class="line">        num += x;</div><div class="line">        anArray.push(num);</div><div class="line">        alert(<span class="string">'num: '</span> + num + <span class="string">'\nanArray '</span> + anArray.toString() + <span class="string">'\nref.someVar '</span> + ref.someVar);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> closure1 = newClosure(<span class="number">40</span>,&#123;someVar : <span class="string">'closure1'</span>&#125;);</div><div class="line">closure1(<span class="number">5</span>);</div><div class="line"><span class="keyword">var</span> closure2 = newClosure(<span class="number">1000</span>,&#123;someVar : <span class="string">'closure2'</span>&#125;);</div><div class="line">closure2(<span class="number">100</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>上边的例子显示每次对newClosure函数的调用都生成一个闭包，两个闭包之间不会相互影响。</p>
</blockquote>
<p>参考自:<a href="http://www.javascriptkit.com/javatutors/closures.shtml" target="_blank" rel="external">http://www.javascriptkit.com/javatutors/closures.shtml</a><br>       <a href="https://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures" target="_blank" rel="external">https://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures</a></p>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/javascript/">javascript</a> <a class="tag tag--primary tag--small t-link" href="/tags/闭包/">闭包</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/test.html"  data-tooltip="测试文章">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 chenzimu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/test.html"  data-tooltip="测试文章">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-google-plus"></i><span>分享到 Google+</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://chenzimu.com/javascript闭包.html">
                <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/9e8004e35040814af6d25b85ffb9dc06?s=110" alt="作者的图片"/>
        
            <h4 id="about-card-name">chenzimu</h4>
        
            <div id="about-card-bio"><p>奋斗</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>web developper</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Beijing China
            </div>
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    autofocus="autofocus"/>
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/javascript闭包.html">
                            <h3 class="media-heading">javascript闭包</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2014年12月30日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>闭包的概念很难懂，这篇文章也只是我的一个学习笔记吧，其中尤其是闭包在循环中的运用尤其最难理解。<br>综合来说的:闭包是一个函数，在函数的上下文中有变量由于被引用，即使函数返回也不会销毁，这样的函数就是一个闭包。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/test.html">
                            <h3 class="media-heading">测试文章</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/360浏览器的两种渲染模式.html">
                            <h3 class="media-heading">360浏览器的两种渲染模式</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>今天在做一个页面的时候出现了一个问题，页面在谷歌等浏览器中没有问题，但是打开360浏览器一看，尼玛，直接变样了，但是将浏览器模式调为极速模式就正常了，于是google了一下，果然问题出在SB360身上。在此记录一下。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/flexbox属性详细介绍【译】.html">
                            <h3 class="media-heading">flexbox属性详细介绍【译】</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月20日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Flexbox布局的全称为CSS Flexible box布局模块，它是css3中新增加的一种布局方式，这种布局方式可以可以在不知道元素的尺寸大小的时候依然可以调整元素的对齐方式等。flexible box最主要的特点是外层的盒子可以根据屏幕的不同尺寸自动调整盒子中元素的大小以填充元素之间由于屏幕尺寸变化出现的空间。<br>许多设计师和前端工程师发现flexbox布局用起来很方便，因为这种布局在定位元素的时候很容易，而且对于很复杂的布局可以用更少的代码即可完成。flexbox布局的算法是基于direction的，而之前我们常用的块布局和行内布局是基于水平方向和垂直方向的。flexbox布局应当被应用到小型应用中，因为新的CSS Grid布局模型将被应用到大型布局中。<br>这篇文章将会重点教给您flex属性是怎样影响布局的。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/javascript触摸事件简介.html">
                            <h3 class="media-heading">javascript触摸事件简介</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月26日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="javascript触摸事件"><a href="#javascript触摸事件" class="headerlink" title="javascript触摸事件"></a>javascript触摸事件</h2><p>在javascript中支持以下几个触摸事件:</p>
<ol>
<li>touchstart,当用户触摸到屏幕表面时即触发这一事件,并在这一事件所对应的元素上创建一个“触摸点”。</li>
<li>touchmove,当用户在屏幕上移动“触摸点”时触发。</li>
<li>touchend，当用户“触摸点”离开屏幕时触发。</li>
<li>touchenter，当“触摸点”进入对应元素触发，不会冒泡。</li>
<li>touchleave,当“触摸点”离开对应元素触发，不会冒泡。</li>
<li>touchcancel，当“触摸点”不再被注册到触摸屏上时触发。</div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/用javascript的touch事件实现滑动.html">
                            <h3 class="media-heading">用javascript的touch事件实现滑动</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月27日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>首先我们先定义一下究竟什么样的行为算是一次滑动，当手指朝某一方向划过屏幕触发’touchstart’和’touchend’事件之后，有两个变量值可以供我们使用：一个是手指滑动的距离，另一个是手指滑动的时间。通过这两个值的变化我们就可以确定是否为滑动事件以及滑动的方向了。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/在每一个阶段监听touch事件.html">
                            <h3 class="media-heading">在每一个阶段监听touch事件</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年10月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>之前的swipeDetect函数有一个缺点，即该函数只能在整个手指滑动过程结束之后才能判断出滑动的方向，之后再调用回调函数。在此将其改进一下，当手指在start、move以及end使都可以触发回调函数，这样利用起来将更加灵活。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/em和rem简介.html">
                            <h3 class="media-heading">em和rem简介</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年11月12日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>em和rem两个单位都是根据页面中的字体大小来决定其他元素的属性大小，如padding、margin等，这两个单位给我们带来了很多的灵活性，但是它们也有一些不同的地方。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/jquery中data-和attr-的区别.html">
                            <h3 class="media-heading">jquery中data()和attr()的区别</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年11月24日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>之前用过jquery中的data()和attr()方法，只知道它们之间一点区别在于如果属性中没有’data-‘前缀的话data是无法读取该属性的，对于它们两个的主要区别没有研究，正好看到这个地方在此记录一下：<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://chenzimu.com/javascript变量和函数提升.html">
                            <h3 class="media-heading">javascript变量和函数提升</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年12月25日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>要明确变量声明、初始化、变量声明提升以及函数声明和函数表达式的概念及区别。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 13 篇文章
            </p>
        </div>
    </div>
</div>
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-40xrq0uotnxpx2c5gkgs3a3kbzglt650l76anhm6mndvp1zy8bnxbzqbl8cv.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://chenzimu.com/javascript闭包.html';
                 
                    this.page.identifier = 'javascript闭包.html';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'chenzimu';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



    </body>
</html>
