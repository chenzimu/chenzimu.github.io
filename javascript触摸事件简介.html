<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  


<link rel="stylesheet" type="text/css" href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" />

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2"/>


    <meta name="description" content="臣子木的博客 | web前端 | html | css | html5 | css3 | javascript | jquery | nodejs | angularjs" />



  <meta name="keywords" content="javascript,touch," />





  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />


<meta name="description" content="javascript触摸事件在javascript中支持以下几个触摸事件:

touchstart,当用户触摸到屏幕表面时即触发这一事件,并在这一事件所对应的元素上创建一个“触摸点”。
touchmove,当用户在屏幕上移动“触摸点”时触发。
touchend，当用户“触摸点”离开屏幕时触发。
touchenter，当“触摸点”进入对应元素触发，不会冒泡。
touchleave,当“触摸点”离开对">
<meta property="og:type" content="article">
<meta property="og:title" content="javascript触摸事件简介">
<meta property="og:url" content="http://chenzimu.com/javascript触摸事件简介.html">
<meta property="og:site_name" content="臣子木">
<meta property="og:description" content="javascript触摸事件在javascript中支持以下几个触摸事件:

touchstart,当用户触摸到屏幕表面时即触发这一事件,并在这一事件所对应的元素上创建一个“触摸点”。
touchmove,当用户在屏幕上移动“触摸点”时触发。
touchend，当用户“触摸点”离开屏幕时触发。
touchenter，当“触摸点”进入对应元素触发，不会冒泡。
touchleave,当“触摸点”离开对">
<meta property="og:updated_time" content="2015-10-28T02:43:17.343Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="javascript触摸事件简介">
<meta name="twitter:description" content="javascript触摸事件在javascript中支持以下几个触摸事件:

touchstart,当用户触摸到屏幕表面时即触发这一事件,并在这一事件所对应的元素上创建一个“触摸点”。
touchmove,当用户在屏幕上移动“触摸点”时触发。
touchend，当用户“触摸点”离开屏幕时触发。
touchenter，当“触摸点”进入对应元素触发，不会冒泡。
touchleave,当“触摸点”离开对">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'always'
  };
</script>



  <title> javascript触摸事件简介 | 臣子木 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">臣子木</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">臣子木的学习、生活</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/resume" rel="section">
            
              <i class="menu-item-icon fa fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                javascript触摸事件简介
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-26T10:59:48+08:00" content="2015-10-26">
              2015-10-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web前端/" itemprop="url" rel="index">
                    <span itemprop="name">web前端</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web前端/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/javascript触摸事件简介.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="javascript触摸事件简介.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><h2 id="javascript触摸事件">javascript触摸事件</h2><p>在javascript中支持以下几个触摸事件:</p>
<ol>
<li>touchstart,当用户触摸到屏幕表面时即触发这一事件,并在这一事件所对应的元素上创建一个“触摸点”。</li>
<li>touchmove,当用户在屏幕上移动“触摸点”时触发。</li>
<li>touchend，当用户“触摸点”离开屏幕时触发。</li>
<li>touchenter，当“触摸点”进入对应元素触发，不会冒泡。</li>
<li>touchleave,当“触摸点”离开对应元素触发，不会冒泡。</li>
<li>touchcancel，当“触摸点”不再被注册到触摸屏上时触发。<a id="more"></a>
这些事件可以绑定到任何元素上，并会自动传递一个包含“触摸点”细节的对象到事件函数中，利用element.addEventListener()来注册事件。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'onload'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.addEventListener(<span class="string">'touchstart'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        alert(e.changedTouches[<span class="number">0</span>].pageX) <span class="comment">// alert pageX coordinate of touch point</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
touchstart的回调函数中的event对象中包含了与触摸行为相关的所有信息。下边是一个将touchstart、touchmove与touchend相结合的例子:</li>
</ol>
<p></p><p data-height="268" data-theme-id="0" data-slug-hash="xwWNGY" data-default-tab="html" data-user="chenzimu" class="codepen">See the Pen <a href="http://codepen.io/chenzimu/pen/xwWNGY/" target="_blank" rel="external">xwWNGY</a> by chenzimu (<a href="http://codepen.io/chenzimu" target="_blank" rel="external">@chenzimu</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<ul>
<li>e.preventDefault()的作用是防止触摸事件的默认行为的发生。对于touchstart和touchend来说，如果目标元素是一个a链接的话可以防止浏览器跳转到新页面，对于touchmove可以防止用户在目标元素内移动手指时使页面发生滚动。</li>
<li>touchObj指代所有放到触摸屏上所有触发触摸事件的对象中的第一个“触摸点”，然后利用clientX获得“触摸点”相对于浏览器边缘的水平距离。通过在touchmove中使用可以获得每次移动的坐标相对于“触摸点”的水平相对距离。</li>
<li>即使手指离开事件绑定的元素，touchend依旧会触发并显示此时的x坐标。<h2 id="触摸过程中的事件对象">触摸过程中的事件对象</h2></li>
</ul>
<ol>
<li>changedTouches:包含了所有触发“触摸点”的触摸对象的集合，具体的有:<ol>
<li>touchstart,包含所有触摸到屏幕的所有“触摸点”</li>
<li>touchmove,包含所有获得到“触摸点”后移动的对象</li>
<li>touchend，包含所有将手指离开触摸屏的对象集合</li>
<li>touchenter,包含所有在触摸事件中进入绑定元素范围的对象集合</li>
<li>touchleave,包含所有在触摸事件中离开绑定元素范围的对象集合</li>
</ol>
</li>
<li>targetTouches：一个包含绑定元素内部触发的触摸事件信息的集合</li>
<li>touches：所有“触摸点”的集合</li>
<li>altkey，布尔类型，表示在触摸事件发生时，是否按下alt。相似的还有ctrlKey、metaKey、shiftKey。</li>
<li>type,触发事件的类型</li>
<li>触发事件所对应的目标元素</li>
</ol>
<p>例如，在touchstart事件中，事件对象的touches属性可以获得目前所有的“触摸点”：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">'touchstart'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> touchlist = e.touches;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; touchlist.length;i++)&#123;</span><br><span class="line">                <span class="comment">//do something with every touch point</span></span><br><span class="line">            &#125;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br>触摸过程中每个触摸对象包含的属性:</p>
<ol>
<li>identifier,可以唯一的代表某一个“触摸点”。起始值为0，每增加一个触摸点加1。加入你将两根手指放到屏幕上，这时就可以利用这一属性对每一根手指添加不同的事件。</li>
<li>screenX，用户“触摸点”相对于用户的设备屏幕左边缘的x坐标</li>
<li>screenY，用户“触摸点”相对于用户的设备屏幕上边缘的y坐标</li>
<li>clientX，用户“触摸点”相对于视窗左边缘的x坐标，不包括滚动条</li>
<li>clientY,用户“触摸点”相对于视窗上边缘的y坐标，不包括滚动条</li>
<li>pageX, 用户“触摸点”相对于视窗左边缘的x坐标，包括滚动条</li>
<li>pageY，用户“触摸点”相对于视窗上边缘的y坐标，包括滚动条</li>
<li>radiusX，触摸区域相对于x轴的椭圆区域的半径</li>
<li>radiusY，触摸区域相对于y轴的椭圆区域的半径</li>
<li>rotationAngle，由radiusX和radiusY所确定的椭圆区域绕中心点所转动的角度</li>
<li>force，返回加到触摸屏上的力量大小，数值为0-1</li>
<li>target，“触摸点”作用到的目标元素。</li>
</ol>
<blockquote>
<p>Touches, changedTouches, 和 targetTouches之间的不同：Touches包含当前所有“触发点”的集合。changedTouches包含当前所发生的触摸事件的所有“触摸点”的集合，比如在一个touchmove事件中，changedTouches只包含当前正在move的“触摸点”，Touches则包含所有的“触摸点”，targetTouches只包含当前在绑定元素上触发的触摸事件。</p>
<blockquote>
<p>When I put a finger down, all three lists will have the same information. It will be in changedTouches because putting the finger down is what caused the event<br>When I put a second finger down, touches will have two items, one for each finger. targetTouches will have two items only if the finger was placed in the same node as the first finger. changedTouches will have the information related to the second finger, because it’s what caused the event<br>If I put two fingers down at exactly the same time, it’s possible to have two items in changedTouches, one for each finger<br>If I move my fingers, the only list that will change is changedTouches and will contain information related to as many fingers as have moved (at least one).<br>When I lift a finger, it will be removed from touches, targetTouches and will appear in changedTouches since it’s what caused the event<br>Removing my last finger will leave touches and targetTouches empty, and changedTouches will contain information for the last finger</p>
</blockquote>
</blockquote>
<h2 id="利用触摸事件移动元素">利用触摸事件移动元素</h2><p></p><p data-height="268" data-theme-id="0" data-slug-hash="OyvYVK" data-default-tab="html" data-user="chenzimu" class="codepen">See the Pen <a href="http://codepen.io/chenzimu/pen/OyvYVK/" target="_blank" rel="external">OyvYVK</a> by chenzimu (<a href="http://codepen.io/chenzimu" target="_blank" rel="external">@chenzimu</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>参考自:<a href="http://www.javascriptkit.com/javatutors/touchevents.shtml" target="_blank" rel="external">http://www.javascriptkit.com/javatutors/touchevents.shtml</a></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/javascript/" rel="tag">#javascript</a>
          
            <a href="/tags/touch/" rel="tag">#touch</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/用javascript的touch事件实现滑动.html" rel="prev">
                <i class="fa fa-chevron-left"></i> 用javascript的touch事件实现滑动
              </a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/HTML5笔记.html" rel="next">
                HTML5笔记【未完成】 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div class="ds-thread" data-thread-key="javascript触摸事件简介.html"
                   data-title="javascript触摸事件简介" data-url="http://chenzimu.com/javascript触摸事件简介.html">
              </div>
            
          </div>
        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpg" alt="chenzimu" itemprop="image"/>
          <p class="site-author-name" itemprop="name">chenzimu</p>
        </div>
        <p class="site-description motion-element" itemprop="description">臣子木的博客 | web前端 | html | css | html5 | css3 | javascript | jquery | nodejs | angularjs</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">16</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">15</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            
              <span class="site-state-item-count">20</span>
              <span class="site-state-item-name">标签</span>
              
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/chenzimu" target="_blank">
                  <i class="fa fa-github"></i> github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.weibo.com/377800902" target="_blank">
                  <i class="fa fa-weibo"></i> weibo
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#javascript触摸事件"><span class="nav-number">1.</span> <span class="nav-text">javascript触摸事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#触摸过程中的事件对象"><span class="nav-number">2.</span> <span class="nav-text">触摸过程中的事件对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用触摸事件移动元素"><span class="nav-number">3.</span> <span class="nav-text">利用触摸事件移动元素</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chenzimu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"chenzimu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
